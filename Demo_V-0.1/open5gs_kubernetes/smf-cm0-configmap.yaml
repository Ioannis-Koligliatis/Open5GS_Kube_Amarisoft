apiVersion: v1
data:
  smf.yaml: "logger:\n  file:\n    path: /opt/open5gs/var/log/open5gs/smf.log\n#  level: info   # fatal|error|warn|info(default)|debug|trace\n\nglobal:\n# max:\n#   ue: 1024 # The number of UE can be increased depending on memory size.\n#    peer: 64\n\nsmf:\n  sbi:\n    server:\n    - dev: eth0\n      port: 7777\n    client:\n      #      nrf:\n      #        - uri: http://127.0.0.10:7777\n      scp:\n      - uri: http://scp:7777\n  pfcp:\n    server:\n    - dev: eth0\n    client:\n      upf:\n      - address: upf\n  gtpc:\n    server:\n    - dev: eth0\n  gtpu:\n    server:\n    - dev: eth0\n  metrics:\n    server:\n    - dev: eth0\n      port: 9090\n  session:\n    - subnet: 10.45.0.0/16\n      gateway: 10.45.0.1\n  dns:\n  - 8.8.8.8\n  - 8.8.4.4\n  mtu: 1400\n  #  p-cscf:\n  #    - 127.0.0.1\n  #    - ::1\n  ctf:\n    enabled: auto # auto(default)|yes|no\n  # This line is commented so it doesn't try to reach to the pcrf \n  # freeDiameter: /opt/open5gs/etc/freeDiameter/smf.conf\n################################################################################\n# SMF Info\n################################################################################\n#  <SMF Selection - 5G Core only>\n#  1. SMF sends SmfInfo(S-NSSAI, DNN, TAI) to the NRF\n#  2. NRF responds to AMF with SmfInfo during NF-Discovery.\n#  3. AMF selects SMF based on S-NSSAI, DNN and TAI in SmfInfo.\n#\n#  Note that if there is no SmfInfo, any AMF can select this SMF.\n#\n#  o S-NSSAI[SST:1] and DNN[internet] - At least 1 DNN is required in S-NSSAI\n#  info:\n#    - s_nssai:\n#        - sst: 1\n#          dnn:\n#            - internet\n#\n#  o S-NSSAI[SST:1 SD:009000] and DNN[internet or ims]\n#  info:\n#    - s_nssai:\n#        - sst: 1\n#          sd: 009000\n#          dnn:\n#            - internet\n#            - ims\n#\n#  o S-NSSAI[SST:1] and DNN[internet] and TAI[PLMN-ID:99970 TAC:1]\n#  info:\n#    - s_nssai:\n#        - sst: 1\n#          dnn:\n#            - internet\n#      tai:\n#        - plmn_id:\n#            mcc: 999\n#            mnc: 70\n#          tac: 1\n#\n#  o If any of conditions below are met:\n#   - S-NSSAI[SST:1] and DNN[internet] and TAI[PLMN-ID:99970 TAC:1-9]\n#   - S-NSSAI[SST:2 SD:000080] and DNN[internet or ims]\n#   - S-NSSAI[SST:4] and DNN[internet] and TAI[PLMN-ID:99970 TAC:10-20,30-40]\n#  info:\n#    - s_nssai:\n#        - sst: 1\n#          dnn:\n#            - internet\n#      tai:\n#        - plmn_id:\n#            mcc: 999\n#            mnc: 70\n#          tac:\n#            - 1-9\n#    - s_nssai:\n#        - sst: 2\n#          sd: 000080\n#          dnn:\n#            - internet\n#            - ims\n#    - s_nssai:\n#        - sst: 4\n#          dnn:\n#            - internet\n#      tai:\n#        - plmn_id:\n#            mcc: 999\n#            mnc: 70\n#          tac:\n#            - 10-20\n#            - 30-40\n#\n#  o Complex Example\n#  info:\n#    - s_nssai:\n#        - sst: 1\n#          dnn:\n#            - internet\n#        - sst: 1\n#          sd: 000080\n#          dnn:\n#            - internet\n#            - ims\n#        - sst: 1\n#          sd: 009000\n#          dnn:\n#            [internet, ims]\n#        - sst: 2\n#          dnn:\n#            - internet\n#        - sst: 3\n#          sd: 123456\n#          dnn:\n#            - internet\n#      tai:\n#        - plmn_id:\n#            mcc: 999\n#            mnc: 70\n#          tac: [1, 2, 3]\n#        - plmn_id:\n#            mcc: 999\n#            mnc: 70\n#          tac: 4\n#        - plmn_id:\n#            mcc: 999\n#            mnc: 70\n#          tac:\n#            - 5\n#            - 6\n#        - plmn_id:\n#            mcc: 999\n#            mnc: 70\n#          tac:\n#            - 100-200\n#            - 300-400\n#        - plmn_id:\n#            mcc: 999\n#            mnc: 70\n#          tac:\n#            - 500-600\n#            - 700-800\n#            - 900-1000\n#    - s_nssai:\n#        - sst: 4\n#          dnn:\n#            - internet\n#      tai:\n#        - plmn_id:\n#            mcc: 999\n#            mnc: 70\n#          tac: 99\n#\n################################################################################\n# SBI Server\n################################################################################\n#  o Override SBI address to be advertised to NRF\n#  sbi:\n#    server:\n#      - dev: eth0\n#        advertise: open5gs-smf.svc.local\n#\n#  sbi:\n#    server:\n#      - address: localhost\n#        advertise:\n#          - 127.0.0.99\n#          - ::1\n#\n################################################################################\n# SBI Client\n################################################################################\n#  o Direct communication with NRF interaction\n#  sbi:\n#    client:\n#      nrf:\n#        - uri: http://127.0.0.10:7777\n#\n#  o Indirect communication with delegated discovery\n#  sbi:\n#    client:\n#      scp:\n#        - uri: http://127.0.0.200:7777\n#\n#  o Indirect communication without delegated discovery\n#  sbi:\n#    client:\n#      nrf:\n#        - uri: http://127.0.0.10:7777\n#      scp:\n#        - uri: http://127.0.0.200:7777\n#  discovery:\n#    delegated: no\n#\n################################################################################\n# HTTPS scheme with TLS\n################################################################################\n#  o Set as default if not individually set\n#  default:\n#    tls:\n#      server:\n#        scheme: https\n#        private_key: @sysconfdir@/open5gs/tls/smf.key\n#        cert: @sysconfdir@/open5gs/tls/smf.crt\n#      client:\n#        scheme: https\n#        cacert: @sysconfdir@/open5gs/tls/ca.crt\n#  sbi:\n#    server:\n#      - address: smf.localdomain\n#    client:\n#      nrf:\n#        - uri: https://nrf.localdomain\n#\n#  o Add client TLS verification\n#  default:\n#    tls:\n#      server:\n#        scheme: https\n#        private_key: @sysconfdir@/open5gs/tls/smf.key\n#        cert: @sysconfdir@/open5gs/tls/smf.crt\n#        verify_client: true\n#        verify_client_cacert: @sysconfdir@/open5gs/tls/ca.crt\n#      client:\n#        scheme: https\n#        cacert: @sysconfdir@/open5gs/tls/ca.crt\n#        client_private_key: @sysconfdir@/open5gs/tls/smf.key\n#        client_cert: @sysconfdir@/open5gs/tls/smf.crt\n#  sbi:\n#    server:\n#      - address: smf.localdomain\n#    client:\n#      nrf:\n#        - uri: https://nrf.localdomain\n#\n################################################################################\n# PFCP Server\n################################################################################\n#  o Override PFCP address to be advertised to UPF in PFCP association\n#  pfcp:\n#    server:\n#      - dev: eth0\n#        advertise: open5gs-smf.svc.local\n#\n################################################################################\n# PFCP Client\n################################################################################\n#  o UPF selection by eNodeB TAC\n#   (either single TAC or multiple TACs, DECIMAL representation)\n#  pfcp:\n#    client:\n#      upf:\n#        - address: 127.0.0.7\n#          tac: 1\n#        - address: 127.0.0.12\n#          tac: [3,5,8]\n#\n#  o UPF selection by UE's DNN/APN (either single DNN/APN or multiple DNNs/APNs)\n#  pfcp:\n#    client:\n#      upf:\n#        - address: 127.0.0.7\n#          dnn: ims\n#        - address: 127.0.0.12\n#          dnn: [internet, web]\n#\n#  o UPF selection by CellID(e_cell_id: 28bit, nr_cell_id: 36bit)\n#    (either single enb_id or multiple enb_ids, HEX representation)\n#  pfcp:\n#    client:\n#      upf:\n#        - address: 127.0.0.7\n#          e_cell_id: 463\n#        - address: 127.0.0.12\n#          nr_cell_id: [123456789, 9413]\n#\n################################################################################\n# GTP-C Server\n################################################################################\n#  o Listen on IPv4 and IPv6\n#  gtpc:\n#    server:\n#      - address: 127.0.0.4\n#      - address: fd69:f21d:873c:fa::3\n#\n################################################################################\n# GTP-U Server\n################################################################################\n#  o Listen on IPv4 and IPv6\n#  gtpu:\n#    server:\n#      - address: 127.0.0.4\n#      - address: ::1\n#\n################################################################################\n# 3GPP Specification\n################################################################################\n#  o Specific DNN/APN(e.g 'ims') uses 10.46.0.1/16, 2001:db8:babe::1/48\n#   (If the UE has unknown DNN/APN(not internet/ims), SMF/UPF will crash.)\n#  session:\n#    - subnet: 10.45.0.1/16\n#      dnn: internet\n#    - subnet: 2001:db8:cafe::1/48\n#      dnn: internet\n#    - subnet: 10.46.0.1/16\n#      dnn: ims\n#    - subnet: 2001:db8:babe::1/48\n#      dnn: ims\n#\n#  o Pool Range\n#  session:\n#    - subnet: 10.45.0.1/16\n#      range:\n#        - 10.45.0.100-10.45.0.200\n#        - 10.45.1.100-\n#        - -10.45.0.200\n#    - subnet: 2001:db8:cafe::1/48\n#      range:\n#        - 2001:db8:cafe:a0::0-2001:db8:cafe:b0::0\n#        - 2001:db8:cafe:c0::0-2001:db8:cafe:d0::0\n#\n#  o Security Indication(5G Core only)\n#  security_indication:\n#    integrity_protection_indication: required|preferred|not-needed\n#    confidentiality_protection_indication: required|preferred|not-needed\n#    maximum_integrity_protected_data_rate_uplink: bitrate64kbs|maximum-UE-rate\n#    maximum_integrity_protected_data_rate_downlink: bitrate64kbs|maximum-UE-rate\n"
kind: ConfigMap
metadata:
  annotations:
    use-subpath: "true"
  labels:
    io.kompose.service: smf
  name: smf-cm0
